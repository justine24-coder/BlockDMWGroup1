Group  1
BSCS/ Block -  D/ 2nd year


II. Write a Java program to create a class called Car with private instance variables company_name, model_name, year, and mileage. Provide public getter and setter methods to access and modify the company_name, model_name, and year variables. However, only provide a getter method for the mileage variable.

public class CarApp {
    public static void main(String[] args) {
        Car c1 = new Car("Toyota", "Corolla", 2015, 60000L);
        System.out.println("Initial car:");
        System.out.println(c1);
        System.out.println("Age (years): " + c1.calculateAge());
        System.out.printf("Estimated resale (orig price 20000): %.2f%n", c1.estimateResaleValue(20000.0));
        System.out.println("Maintenance status: " + c1.getMaintenanceStatus());
        System.out.println();

        c1.setCompanyName("Toyota Motor Corporation");
        c1.setModelName("Corolla S");
        c1.setYear(2016);
        c1.addMileage(1200L);

        System.out.println("After updates:");
        System.out.println("Company: " + c1.getCompanyName());
        System.out.println("Model: " + c1.getModelName());
        System.out.println("Year: " + c1.getYear());
        System.out.println("Mileage (read-only getter): " + c1.getMileage());
        System.out.println("Age (years): " + c1.calculateAge());
        System.out.printf("Estimated resale (orig price 20000): %.2f%n", c1.estimateResaleValue(20000.0));
        System.out.println("Maintenance status: " + c1.getMaintenanceStatus());
    }
}

class Car {
    private String company_name;
    private String model_name;
    private int year;
    private long mileage;

    public Car(String company_name, String model_name, int year, long mileage) {
        this.company_name = company_name;
        this.model_name = model_name;
        this.year = year;
        this.mileage = Math.max(0L, mileage);
    }

    public String getCompanyName() {
        return company_name;
    }

    public void setCompanyName(String company_name) {
        if (company_name == null) throw new IllegalArgumentException("company_name cannot be null");
        this.company_name = company_name;
    }

    public String getModelName() {
        return model_name;
    }

    public void setModelName(String model_name) {
        if (model_name == null) throw new IllegalArgumentException("model_name cannot be null");
        this.model_name = model_name;
    }

    public int getYear() {
        return year;
    }

    public void setYear(int year) {
        int current = java.time.Year.now().getValue();
        if (year < 1886 || year > current) throw new IllegalArgumentException("year out of realistic range");
        this.year = year;
    }

    public long getMileage() {
        return mileage;
    }

    public void addMileage(long miles) {
        if (miles <= 0) throw new IllegalArgumentException("miles must be positive");
        mileage += miles;
    }

    public int calculateAge() {
        int current = java.time.Year.now().getValue();
        int age = current - year;
        return Math.max(0, age);
    }

    public double estimateResaleValue(double originalPrice) {
        if (originalPrice <= 0) return 0.0;
        int age = calculateAge();
        double value = originalPrice * Math.pow(0.95, age);
        double mileagePenalty = (mileage / 10000.0) * (originalPrice * 0.02);
        value -= mileagePenalty;
        if (value < 0) value = 0.0;
        return value;
    }

    public String getMaintenanceStatus() {
        long interval = 5000L;
        long nextServiceAt = ((mileage / interval) + 1) * interval;
        long milesRemaining = nextServiceAt - mileage;
        if (mileage % interval == 0) return "Service due now (performed at " + mileage + " miles)";
        return "Next service in " + milesRemaining + " miles (at " + nextServiceAt + " miles)";
    }

    @Override
    public String toString() {
        return String.format("%s %s (%d) - Mileage: %d", company_name, model_name, year, mileage);
    }
}
